@import "./reset.scss";

$max-root-width: 800px;
$max-root-height: 800px;

@mixin _onNarrowScreenQuery {
  @at-root
  .width-tiny {
    @content;
  }

  @at-root
  .width-small {
    @content;
  }
}

@mixin _buttonWithIcon($iconName) {
  display: flex;
  align-items: center;
  padding: 0.2em;

  > .icon {
    width: 2em;
    height: 2em;

    background: url("resources/ui/icons/" + $iconName) center no-repeat;
    background-size: contain;
  }

  &:hover {
    cursor: pointer;
    background: #ccc;
  }
}

@mixin _icon($iconName) {
  width: 100%;
  height: 100%;

  background: url("resources/ui/" + $iconName) center no-repeat;
  background-size: contain;
}

:root {
  --max-root-width: #{$max-root-width};
  --max-root-height: #{$max-root-height};
}

.scene {
  display: flex;
  justify-content: center;
  align-items: center;

  width: 100%;
  height: 100%;

  background: #222;

  background-image: repeating-conic-gradient(#3c3c4a 0% 25%, #191d2e 0% 50%);
  background-position: 0 0, 32px 32px;
  background-size: 64px 64px;
  background-color: #191d2e;
}

.root {
  display: flex;
  flex-direction: column;
  flex-grow: 1;

  width: 100%;
  height: 100%;
  // min-width: 320px;
  // min-height: 320px;
  // max-width: 400px;
  // max-height: 400px;
  // max-width: var(--max-root-width);
  // max-height: var(--max-root-height);

  // border: 1px solid #222;
  background: #ccc;
}

.navbar {
  display: flex;
  justify-content: space-between;

  border-bottom: 1px solid;
}

.player {
  display: flex;
  flex-direction: column;
  flex-grow: 1;

  > .view {
    flex-grow: 1;

    > canvas {
      width: 100%;
      height: 100%;
      background-color: #222;
    }
  }

  > .toolbar {
    display: flex;
    flex-direction: row;

    border-top: 1px solid #222;

    > .unity-web-gl {
      display: flex;
      justify-content: center;
      padding: 0.2em;

      &.area {
        flex-grow: 1;

        > .icon {
          @include _icon("logo-unity-webgl.png")
        }
      }
    }
  }

}

.chessknight {
  &.button {
    @include _buttonWithIcon("icon-chessknight.ico");
  }
}

.orientation-portrait {
  &.width-tiny, &.width-small {
    .chessknight {
      &.button {
        > .text {
          display: none;
        }
      }
    };

    .freewebtime {
      &.button {
        > .text {
          display: none;
        }
      }
    };
  }
}

.orientation-landscape {
  &.height-tiny, &.height-small, &.height-none {
    .root {
      flex-direction: row;
    }
    .navbar {
      flex-direction: column;

      .text {
        display: none;
      }
    }
    .player {
      flex-direction: row;

      >.toolbar {
        flex-direction: column-reverse;

        .text {
          display: none;
        }

        .unity-web-gl .icon {
          transform: rotate(90deg) scale(3);
        }
      }
    }
  }
}

.freewebtime {
  &.button {
    @include _buttonWithIcon("icon-home.png");
    @include _onNarrowScreenQuery() {
      > .text {
        display: none;
      };
    }
  }
}

.help-ukraine {
  &.button {
    flex-grow: 1;
    justify-content: center;

    @include _buttonWithIcon("icon-ua.png");
  }
}

.fullscreen {
  &.button {
    @include _buttonWithIcon("icon-fullscreen.png");
    @include _onNarrowScreenQuery() {
      > .text {
        display: none;
      };
    }
  }
}

.download {
  &.button {
    @include _buttonWithIcon("icon-download.png");
    @include _onNarrowScreenQuery() {
      > .text {
        display: none;
      };
    }
  }
}
